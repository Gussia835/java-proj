databaseChangeLog:
  changeSet:
    id: V1__create_users_and_cards
    author: Gussia
    changes:
      - createTable:
          tableName: users
          columns:
            - column:
               name: id
               type: BIGINT
               autoIncrement: true
               constraints:
                 primaryKey: true
                 nullable: false
            - column:
                name: username
                type: VARCHAR(50)
                constraints:
                  nullable: false
                  unique: true
            - column:
                name: password
                type: VARCHAR(255)
                constraints:
                  nullable: false
            - column:
                name: role
                type: VARCHAR(50)
                constraints:
                  nullable: false

      - createTable:
          tableName: cards
          columns:
            - column:
                name: id
                type: BIGINT
                constraints:
                  primaryKey: true
                  nullable: false
            - column:
                name: encrypted_number
                type: VARCHAR(255)
                constraints:
                  unique: true
                  nullable: false
            - column:
                name: user_id
                type: BIGINT
                constraints:
                  nullable: false
                  foreignKeyName: fk_card_user
                  references: users(id)
                  deleteCascade: true
            - column:
                name: validate_date
                type: DATE
                constraints:
                  nullable: false
            - column:
                name: status
                type: VARCHAR(50)
                constraints:
                  nullable: false
            - column:
                name: balance
                type: NUMERIC(19,2)
                defaultValue: 0.00
                constraints:
                  nullable: false


